<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Yarn - Story Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>Photo Yarn</h1>
        <p class="description">Transform your photos into captivating stories. Upload your images and let AI craft a unique narrative.</p>
        
        <div style="text-align:center; margin-bottom:2rem;">
            <svg width="64" height="64" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="24" cy="24" r="20" stroke="#4a90e2" stroke-width="4" fill="#f8f9fa"/>
                <path d="M10 38 Q24 24 38 38" stroke="#e67e22" stroke-width="3" fill="none"/>
                <path d="M14 34 Q24 24 34 34" stroke="#e67e22" stroke-width="2" fill="none"/>
                <path d="M18 30 Q24 24 30 30" stroke="#e67e22" stroke-width="1.5" fill="none"/>
                <path d="M24 44 Q24 24 24 4" stroke="#e67e22" stroke-width="2" fill="none"/>
            </svg>
        </div>

        <div class="warning-box">
            <p><strong>Note:</strong> Your photos and stories will be automatically deleted after 4 hours. Please save any important content before then.</p>
        </div>

        <div class="advanced-section">
            <button id="advancedToggle" class="advanced-toggle">
                <span id="advancedIcon" style="transition:transform 0.2s; display:inline-block;">&#9654;</span>
                Advanced Options
            </button>
            <div id="advancedFields" class="advanced-fields">
                <div class="form-group">
                    <label for="storyPrompt">Guide your story (optional)</label>
                    <textarea id="storyPrompt" class="form-control" rows="3" placeholder="Describe characters, place, style, or anything you want in your story..."></textarea>
                </div>
                <div class="form-group">
                    <label for="maxWords">Max words per story beat</label>
                    <input id="maxWords" type="number" class="form-control" min="10" max="500" value="100">
                </div>
                <div class="form-group">
                    <label for="maxBeats">Max number of story beats</label>
                    <input id="maxBeats" type="number" class="form-control" min="1" max="50" value="10">
                </div>
                <div class="form-group">
                    <label for="apiKey">Gemini API Key (optional)</label>
                    <input id="apiKey" type="password" class="form-control" autocomplete="off" placeholder="Paste your Gemini API key here (optional)">
                </div>
            </div>
        </div>
        
        <div id="dropArea" class="file-drop-area">
            <input type="file" id="fileInput" accept=".zip,.jpg,.jpeg" multiple style="display: none;">
            <div class="drop-message">
                <p>Drag and drop your photos here</p>
                <p>or</p>
                <button id="uploadButton" type="button">Choose Files</button>
            </div>
        </div>

        <div id="fileList" class="file-list" style="display: none;"></div>
        
        <button id="startButton" type="button" disabled>Create Story</button>

        <div id="processingSpinner" class="processing-spinner" style="display:none;">
            <div class="spinner"></div>
            <p style="margin-top:1rem; color:var(--primary-color); font-weight:500;">Processing your photos...</p>
            <p id="patienceMessage" style="margin-top:0.5rem; color:var(--warning-color); font-weight:500; display:none;">This may take a few minutes. Please be patient.</p>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html> 